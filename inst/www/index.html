<!Doctype html5>
<html>
<head>
  <title>Propensity Model</title>
    <script src="opencpu/jquery-1.10.2.min.js"></script>
    <script src="opencpu/opencpu-0.4.js"></script>
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
						<!--<script src="plot_df.js"></script>-->
						<script src="read_df.js"></script>
						<script src="model_df.js"></script>
						<script src="scoring_df.js"></script>
						<script src="var_change.js"></script>
						<script src="plot.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
  <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <link href="scss/style.css" rel="stylesheet" type="text/css">
  <link href="scss/model_new.css" rel="stylesheet" type="text/css">
  <link href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  <script src="js/highcharts.js"></script>
  <script src="http://code.highcharts.com/highcharts-more.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
  <script src ="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/js/bootstrap-multiselect.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/css/bootstrap-multiselect.css" rel="stylesheet" type="text/css">
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<!--
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
-->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.appear/0.3.3/jquery.appear.js"></script>
      <style>
	  #output{
      min-height: 200px;
      border: solid gray 1px;
	  padding: 3px;
	  color:black;
	  background-color : white;
    }
	#output2{
     		 height: 50px;
		 width: 600px;
     		 border: solid gray 1px;
	  	padding: 3px;
	  	color:black;
	  	background-color : white;
   	 }

     #plotdiv1 {
       position: relative;
       width: 46%;
       height: 450px;
       border: solid gray 1px;
     }

	  #plotdiv {
       position: relative;
       width: 50%;
       height: 450px;
       border: solid gray 1px;
     }

	 #plotdiv2 {
       position: relative;
       width: 900px;
       height: 600px;
       border: solid gray 1px;
     }

    </style>
</head>

<body>



 <!-- <div id="background-wrap">
    <div class="bubble x1"></div>
    <div class="bubble x2"></div>
    <div class="bubble x3"></div>
    <div class="bubble x4"></div>
    <div class="bubble x5"></div>
    <div class="bubble x6"></div>
    <div class="bubble x7"></div>
    <div class="bubble x8"></div>
    <div class="bubble x9"></div>
    <div class="bubble x10"></div>
  </div>

  <div class="device-notification">
    <a class="device-notification--logo" href="#0">
      <p>Propensity Model</p>
    </a>
    <p class="device-notification--message">Global has so much to offer that we must request you orient your device to portrait or find a larger screen. You won't
      be disappointed.</p>
  </div> -->

  <div class="perspective effect-rotate-left">

    <!-- <div class="outer-nav--return"></div> -->

  <div id="viewport" class="l-viewport">
   <div class="container-main">
    <header>
      <div class="container-fluid">
        <div class="row">
          <div class="col-12">
            <div class="header-wrapper">
              <h5>Propensity Model</h5>
              <div class="header--nav-toggle">
                <span></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <div class="container-fluid body-margin">
      <div class="row">
        <div class="col-12">


          <div class="row">
            <div class="col-sm-2">
              <div class="side-nav-fixed">
                <ul class="side-nav">
                  <li class="is-active" id='csvNav'>
                    <span>Choose CSV File</span>
                  </li>
				  <li id='varManNav'>
                    <span>Variable Manipulation</span>
                  </li>
                  <li id='varProfNav'>
                    <span>Variable Profiling</span>
                  </li>
                  <li id='modelNav'>
                    <span>Build a Model</span>
                  </li>
                  <li id='resultsNav'>
                    <span>View Model Results</span>
                  </li>
                  <li id='scoreNav'>
                    <span>Score the Model</span>
                  </li>
                </ul>

                <!-- <div>
                                <label>Powered by Latentview</label>
                        </div> -->

              </div>
            </div>

            <div class="col-sm-10">
              <div class="body-right-wrapper">
                <div class="row">
                  <div class="col-sm-12">
                    <ul class="l-main-content main-content">
						<li class="l-section section section--is-active" id="chooseCSV">
							<div class="intro">
								<h2><b>Choose CSV File</b></h2>
								<br></br><br></br>
									<div class="choose-data">
										<b>Input Data File Path</b> <input type="file" id="uploadFile">
										<br></br>
										<br>
										<b>DV name: </b> <input type="text" id="dvname">
										<b>DV Level: </b> <input type="text" id="preddv" value="1">
										<b>Data Split (%)</b> <input type="text" id="data-split" align="left" value="80">
										</br>
										<br><b><button id="submitbutton" class='btn btn-outline-light btn-sm' type="button">Upload CSV file!</button></b></br>
										<br>
										</br>
									</div>
									<div id="status1">Go on & feed me a CSV!</div>
									</div>
						</li>
						<li class="l-section section" id="varManip">
							<div class='container-fluid'>
									<div class='varLi'><h2> Variable Manipulation </h2></div>
								<div class='row'>
									<div class='col-sm'>
										<div class="card">
											<div class="card-header text-primary text-center">
											Categorical Variables
											</div>
											<div class="card-body ">
												<h6 class="card-title">Identified as Categorical</h6>
												<ul id='cate-list' class='varLi'>
													<!--<li> Variable 1</li>
													<li> Variable 2</li>-->
												</ul>
											</div>
										</div>
									</div>
									<div class='col-sm'>
										<div class="card">
											<div class="card-header text-primary text-center">
											Continuous Variables
											</div>
											<div class="card-body">
												<h6 class="card-title">Identified as Continuous</h6>
												<ul id='conte-list' class='varLi'>
													<!--<li> Variable 1</li>
													<li> Variable 2</li>-->
												</ul>
											</div>
										</div>
									</div>
									<div class='col-sm'>
										<div class="card">
											<div class="card-header text-primary text-center">
											Discrete Variables
											</div>
											<div class="card-body">
												<h6 class="card-title">Convert these to Categorical ??</h6>
												<div id = 'discreteBox' class = 'form-check'>
												</div>
												<!--<div class="form-check">
												  <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
												  <label class="form-check-label" for="defaultCheck1">
													Variable 1
												</label>
												<input class="form-check-input" type="checkbox" value="" id="defaultCheck2">
												  <label class="form-check-label" for="defaultCheck2">
													Variable 2
												  </label>
												</div>-->
											</div>
										</div>
									</div>
								</div>
								<div class='row'>
								&nbsp
								</div>
								<div class='row'>
									<div class='col-sm'>
										<div class="form-actions">
											<div class="text-center">
												<button type="submit" class="btn btn-outline-light" id='varChangeBtn'>Make Changes</button>
											</div>
										</div>
									</div>
								</div>
								<div class='row'>
									&nbsp
								</div>
								<div class='row'>
									<div class='col-sm'>
										<div class="text-center">
											<a id="varChangeLnk" href="#" target="_blank">
												<h2 class='text-center text-light'>
													<i class="far fa-arrow-alt-circle-down fa-2x"></i></br>
													Download the variable treatment Log file
												</h2>
											</a>
										</div>
									</div>
								</div>
							</div>
						</li>
						<li class="l-section section">
							<div class="work">
							  <h2>Variable Profiling</h2>
									<div class="dropdown">
										<button class="btn btn-outline-light dropdown-toggle float-right" type="button" id="varDropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
											Variables
										</button>
										<div class="dropdown-menu" id='varProfileOptions' aria-labelledby="dropdownMenuButton">
										</div>
									</div>
									<div>
									&nbsp
									</div>
									<div class="radio-list-wrapper">
										<div id="plotdiv"></div>
										<div id="plotdiv1"></div>
									</div>
							</div>
						</li>
						<li class="l-section section">
							<div class="about">
								<div id="model_opt">
									<div class="radio-list">
										<h2><div id="status3">Select a Model to train!</div></h2>
										<div class="radio-list-cover">
											<div class="radio">
												<input id="LR" name="radio" type="radio" value ='LR' checked>
												<label for="LR" class="radio-label">Logistic Regression</label>
											</div>
											<div class="radio">
												<input id="RF" name="radio" type="radio" value ='RF'>
												<label for="RF" class="radio-label">Random Forest</label>
											</div>

											<div class="radio">
												<input id="SVM" name="radio" type="radio" value ='SVM'>
												<label for="SVM" class="radio-label">SVM</label>
											</div>

											<div class="radio">
												<input id="GBM" name="radio" type="radio" value ='GBM'>
												<label for="GBM" class="radio-label">GBM</label>
											</div>

											<div class="radio">
												<input id="NB" name="radio" type="radio" value ='NB'>
												<label for="NB" class="radio-label">Naive Bayes</label>
											</div>

											<div class="radio">
												<input id="NNET" name="radio" type="radio" value="NNET">
												<label for="NNET" class="radio-label">Neural Network</label>
											</div>

											<div class="radio">
												<input id="OEM" name="radio" type="radio" value="OEM">
												<label for="OEM" class="radio-label">optimized Ensemble model</label>
											</div>
										</div>
										<div>
										  <button id="show_perf" class='btn btn-outline-light'>Start Building</button>
										</div>
									</div>
								</div>
								<div class="lds-dual-ring" id="building_inter">Let's build a model!!
								</div>
                                <div>
                                <br></br>
                                <br></br>
                                <div class='buttonStyle'>
                                    <button id='show_model_sel' class='btn btn-outline-light'> Show Model Selection</button>
                                </div>
                                </div>
				        </li>
						<li class="l-section section" id='ResultsTab'>
							<div class="text-center"><h2>Results</h2></div>
							<div class="row">&nbsp </div>
							<div class="row">&nbsp </div>
                            <div class="row">
                                <div class="col-4">
                                    <div class="list-group" id="list-tab" role="tablist">
                                        <a class="list-group-item list-group-item-action active" id="list-importantVariables-list" data-toggle="list" href="#list-importantVariables" role="tab" aria-controls="importantVariables">Variable Importance</a>
                                        <a class="list-group-item list-group-item-action" id="list-liftChart-list" data-toggle="list" href="#list-liftChart" role="tab" aria-controls="liftChart">Lift Chart</a>
                                        <a class="list-group-item list-group-item-action" id="list-confusionMatrix-list" data-toggle="list" href="#list-confusionMatrix" role="tab" aria-controls="confusionMatrix">Confusion Matrix</a>
                                        <a class="list-group-item list-group-item-action" id="list-modelDownload-list" data-toggle="list" href="#list-modelDownload" role="tab" aria-controls="modelDownload">Download Your Model</a>
                                    </div>
                                </div>
                                <div class="col-8">
                                    <div class="tab-content bg-light" id="nav-tabContent">
                                        <div class="tab-pane fade show active" id="list-importantVariables" role="tabpanel" aria-labelledby="list-importantVariables-list">
                                            <img class="img-fluid" alt="Variable-Importance" id='varImpChart'>
                                        </div>
                                        <div class="tab-pane fade" id="list-liftChart" role="tabpanel" aria-labelledby="list-importantVariables-list">
                                            <img class="img-fluid" alt="Lift-Chart" id='liftChart'>
                                        </div>
                                        <div class="tab-pane fade" id="list-confusionMatrix" role="tabpanel" aria-labelledby="list-confusionMatrix-list">
                                            <table border="1" class='table table-bordered text-center'>
                                                <thead>
                                                    <tr>
                                                    <th></th>
                                                    <th>Predicted: No</th>
                                                    <th>Predicted: Yes</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                      <td>Actual: No</td>
                                                      <td id='TN'></td>
                                                      <td id='FP'></td>
                                                    </tr>
                                                    <tr>
                                                      <td>Actual: Yes</td>
                                                      <td id='FN'></td>
                                                      <td id='TP'></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="tab-pane fade show active" id="list-modelDownload" role="tabpanel" aria-labelledby="list-modelDownload-list">
                                            <div class="text-center">
    											<a id="modelDownloadLink" href="#" target="_blank">
    												<h2 class='text-center text-primary'>
    													<i class="far fa-arrow-alt-circle-down fa-2x"></i></br>
					                                       Download the Trained Model !!
    												</h2>
    											</a>
    										</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
						</li>

                      <li class="l-section section">
                        <div class="hire">
                            <div class="intro">
                                <h2>Evaluation Module</h2>
                                <div class="choose-data">
                                    &#160;&#160;&#160;<b>Input Data File Path</b>
                                    <input type="file" id="uploadFile2"> <button id="submitbutton2" class='btn btn-outline-light btn-sm' type="button">Upload CSV file!</button>
                                    <br>
                                    </br>
                                    <br>
                                    <b>
                                    <a class='btn btn-outline btn-sm' role ='button' id="scoreDownloadLink" href="#" target="_blank">
                                        <h2 class='text-center text-primary'>
                                            Download Scored Dataset
                                        </h2>
                                    </a>
                                    <br>
                                    </br>
                                </div>
                                <pre id="output2"><code></code></pre>
                                <div id="status2">Waiting for Dataset to Score on!</div>
                            </div>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


   </div>
  </div>


  <ul class="outer-nav">
      <li class="is-active">Choose CSV</li>
	  <li>Variable Manipulation</li>
      <li>Variable Profiling</li>
      <li>Select the Model</li>
      <li>Results</li>
      <li>Scoring</li>
    </ul>


  </div>

</body>


<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>-->
<script src="js/functions-min.js"></script>
<script src="js/high-chart-code.js"></script>

</html>
